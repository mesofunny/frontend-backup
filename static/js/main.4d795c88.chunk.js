(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),c=a.n(r),l=(a(73),a(10)),s=(a(74),a(9)),i=a(14),u=(a(42),a(17)),m=a(3);!function(){var e=0}();var p=a(20),E=a(18),g=a.n(E),d=function(){var e=localStorage.getItem("token");return g.a.create({headers:{Authorization:e},baseURL:"https://mesofunny.herokuapp.com"})},h=function(e){return function(t){t({type:"ADD_DATA_START"}),d().post("/api/v1/users/jokes",e).then(function(e){console.log(e),t({type:"ADD_DATA_SUCCESS",payload:e.data})}).catch(function(e){return console.log(e.response)})}},f=(a(95),Object(i.f)(Object(p.b)(function(e){return console.log(e),{error:e.error,isFetching:e.isFetching,jokes:e.jokes,user:e.user}},{userLogin:function(e,t){return function(a){return console.log(e,t),a({type:"LOGIN_START"}),d().post("/api/v1/users/login",{email:e,password:t}).then(function(e){return localStorage.setItem("token",e.data.token),console.log(e.data),a({type:"LOGIN_SUCCESS",payload:e.data}),!0}).catch(function(e){console.log(e),a({type:"LOGIN_FAILURE",payload:e})})}},register:function(e){return function(t){t({type:"REGISTRATION_START"}),d().post("/api/v1/users/register",e).then(function(e){return console.log(e),localStorage.setItem("token",e.data.token),t({type:"REGISTRATION_SUCCESS",payload:e.data}),!0}).catch(function(e){console.log(e.response),t({type:"REGISTRATION_FAILURE",payload:e.response})})}}})(function(e){var t=Object(n.useState)({form:{firstname:"",lastname:"",email:"",password:""}}),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),p=i[0],E=i[1],g=function(){E(!p)},d=function(e){c({form:Object(m.a)({},r.form,Object(u.a)({},e.target.name,e.target.value))})};return p?o.a.createElement("div",{className:"Container"},o.a.createElement("div",{className:"Login"},o.a.createElement("a",{href:"#",onClick:g},"Login"),o.a.createElement("a",{href:"#",style:{textDecoration:"underline"}},"Register")),o.a.createElement("h1",null,"Dad Jokes"),o.a.createElement("img",{src:"https://www.sccpre.cat/mypng/detail/39-391459_joy-android-crying-laughing-emoji.png"}),o.a.createElement("form",null,o.a.createElement("input",{type:"text",name:"firstname",value:r.form.firstname,placeholder:"First Name",onChange:d}),o.a.createElement("input",{type:"text",name:"lastname",value:r.form.lastname,placeholder:"Last Name",onChange:d}),o.a.createElement("input",{type:"email",name:"email",value:r.form.email,placeholder:"email",onChange:d}),o.a.createElement("input",{type:"password",name:"password",value:r.form.password,placeholder:"password",onChange:d}),o.a.createElement("button",{onClick:function(t){t.preventDefault(),e.register(r.form),e.history.push("/jokes")}},"Register"))):o.a.createElement("div",{className:"Container"},o.a.createElement("div",{className:"Login"},o.a.createElement("a",{href:"#",style:{textDecoration:"underline"}},"Login"),o.a.createElement("a",{href:"#",onClick:g},"Register")),o.a.createElement("h1",null,"Dad Jokes"),o.a.createElement("img",{src:"https://www.sccpre.cat/mypng/detail/39-391459_joy-android-crying-laughing-emoji.png"}),o.a.createElement("form",null,o.a.createElement("input",{type:"email",name:"email",value:r.form.email,placeholder:"email",onChange:d}),o.a.createElement("input",{type:"password",name:"password",value:r.form.password,placeholder:"password",onChange:d}),o.a.createElement("button",{onClick:function(t){t.preventDefault(),e.userLogin(r.form.email,r.form.password).then(function(t){console.log("res",t),t&&e.history.push("/jokes")})}},"Login")))}))),j=function(){return localStorage.getItem("token")?o.a.createElement("div",null,o.a.createElement(s.b,{exact:!0,to:"/"},"Home"),o.a.createElement(s.b,{to:"/contact"},"Contact Us"),o.a.createElement(s.b,{to:"/test"},"Test")):o.a.createElement("div",null,o.a.createElement(s.b,{exact:!0,to:"/"},"Home"),o.a.createElement(s.b,{to:"/user"},"Join Up"),o.a.createElement(s.b,{to:"/contact"},"Contact Us"))},A=a(151),T=a(15),b=a(16),S=function(){return o.a.createElement("div",{className:"home-grid"},o.a.createElement(A.a,{columns:3},o.a.createElement(A.a.Row,null,o.a.createElement(A.a.Column,null,o.a.createElement(T.a,{icon:b.a,className:"home-icons"})),o.a.createElement(A.a.Column,null,o.a.createElement(T.a,{icon:b.a,className:"home-icons"})),o.a.createElement(A.a.Column,null,o.a.createElement(T.a,{icon:b.a,className:"home-icons"}))),o.a.createElement(A.a.Row,null,o.a.createElement(A.a.Column,null,o.a.createElement(T.a,{icon:b.a,className:"home-icons"})),o.a.createElement(A.a.Column,null,o.a.createElement(T.a,{icon:b.a,className:"home-icons"})),o.a.createElement(A.a.Column,null,o.a.createElement(T.a,{icon:b.a,className:"home-icons"})))))},y=(a(148),function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){g.a.get("https://mesofunny.herokuapp.com/api/v1/jokesOfTheDay").then(function(e){console.log(e),r(e.data.joke.joke)}).catch(function(e){console.error("The API is currently down.",e)})},[]),o.a.createElement("div",{className:"home-container"},o.a.createElement("div",{className:"daily-joke-container"},o.a.createElement("h1",{className:"daily-joke"},a)),o.a.createElement(S,null))}),k=(a(67),Object(p.b)(function(e){return console.log(e),{error:e.error,isFetching:e.isFetching,jokes:e.jokes,user:e.user}},{fetchData:function(){return function(e){e({type:"FETCH_DATA_START"}),g.a.get("https://mesofunny.herokuapp.com/api/v1/jokes").then(function(t){console.log(t),e({type:"FETCH_DATA_SUCCESS",payload:t.data.jokes})}).catch(function(e){return console.log(e.response)})}},addData:h})(function(e){Object(n.useEffect)(function(){e.fetchData()},[]);return o.a.createElement("div",null,o.a.createElement("p",null,"test me"),e.jokes.map(function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.title),o.a.createElement("p",null,e.joke))}),o.a.createElement("button",{onClick:function(){localStorage.removeItem("token"),e.history.push("/home")}},"Logout"))}));var O=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)({})),r=Object(l.a)(a,2),c=(r[0],r[1],Object(n.useState)(!1)),u=Object(l.a)(c,2);return u[0],u[1],o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,null,o.a.createElement(i.b,{path:"/",component:j}),o.a.createElement(i.b,{exact:!0,path:"/",component:y}),o.a.createElement(i.b,{path:"/user",component:f}),o.a.createElement(i.b,{path:"/test",component:k})))},C={error:"",isFetching:!1,jokes:[],isLoading:!1,isLoggedIn:!1,user:""},_=a(24),I=a(65),D=a(66),v=a.n(D),R=Object(_.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA_START":return Object(m.a)({},e,{error:"",isFetching:!0,jokes:[]});case"FETCH_DATA_SUCCESS":return Object(m.a)({},e,{error:"",isFetching:!1,jokes:t.payload});case"FETCH_DATA_FAILURE":return Object(m.a)({},e,{error:t.payload,isFetching:!1,jokes:[]});case"ADD_DATA_START":return Object(m.a)({},e,{error:"",isFetching:!0,jokes:[]});case"ADD_DATA_SUCCESS":return Object(m.a)({},e,{error:"",isFetching:!1,jokes:t.payload});case"ADD_DATA_FAILURE":return Object(m.a)({},e,{error:t.payload,isFetching:!1,jokes:[]});case"DELETE_DATA_START":return Object(m.a)({},e,{error:"",isFetching:!0,jokes:[]});case"DELETE_DATA_SUCCESS":return Object(m.a)({},e,{error:"",isFetching:!1,jokes:t.payload});case"DELETE_DATA_FAILURE":return Object(m.a)({},e,{error:t.payload,isFetching:!1,jokes:[]});case"EDIT_DATA_START":return Object(m.a)({},e,{error:"",isFetching:!0,jokes:[]});case"EDIT_DATA_SUCCESS":return Object(m.a)({},e,{error:"",isFetching:!1,jokes:t.payload});case"EDIT_DATA_FAILURE":return Object(m.a)({},e,{error:t.payload,isFetching:!1,jokes:[]});case"LOGIN_START":return Object(m.a)({},e,{error:"",isLoggedIn:!1,jokes:[],user:""});case"LOGIN_SUCCESS":return Object(m.a)({},e,{error:"",isLoggedIn:!0,user:t.payload});case"LOGIN_FAILURE":return Object(m.a)({},e,{error:t.payload,isLoggedIn:!1,jokes:[],user:""});case"REGISTRATION_START":return Object(m.a)({},e,{error:"",isLoggedIn:!1,jokes:[]});case"REGISTRATION_SUCCESS":return Object(m.a)({},e,{error:"",isLoggedIn:!0,jokes:t.payload});case"REGISTRATION_FAILURE":return Object(m.a)({},e,{error:t.payload,isLoggedIn:!1,jokes:[]});default:return e}},Object(_.a)(I.a,v.a));c.a.render(o.a.createElement(p.a,{store:R},o.a.createElement(O,null)),document.getElementById("root"))},68:function(e,t,a){e.exports=a(149)},74:function(e,t,a){},95:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.4d795c88.chunk.js.map